if (self.CavalryLogger) { CavalryLogger.start_js(["Lc2Gb"]); }

__d("EventsRelayWatchButtonForBottomSheet_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventsRelayWatchButtonForBottomSheet_event",selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"EventsRsvpButtonWithPrivacyBottomSheet_event"}],type:"Event"};e.exports=a}),null);
__d("EventsRsvpButtonWithPrivacyBottomSheetRendererQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"eventID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"eventID"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EventsRsvpButtonWithPrivacyBottomSheetRendererQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"EventsRelayWatchButtonForBottomSheet_event"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EventsRsvpButtonWithPrivacyBottomSheetRendererQuery",selections:[{alias:null,args:b,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"hasChildEvents",args:null,kind:"ScalarField",name:"has_child_events",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2335022529918557",metadata:{},name:"EventsRsvpButtonWithPrivacyBottomSheetRendererQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EventsRsvpButtonWithPrivacyBottomSheet_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventsRsvpButtonWithPrivacyBottomSheet_event",selections:[{alias:"connectionStyle",args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"hasChildEvents",args:null,kind:"ScalarField",name:"has_child_events",storageKey:null}],type:"Event"};e.exports=a}),null);
__d("FDSPrivateListMediaItem.react",["cx","FDSPrivateListItemLabel.react","FDSPrivateListItemLayout.react","Image.react","React","makeFDSStandardComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return h.jsxs(b("FDSPrivateListItemLayout.react"),{actions:a.actions,button:a.button,"data-testid":void 0,disabledMessage:a.disabledMessage,isDisabled:a.isDisabled,itemID:a.itemID,children:[h.jsx(b("Image.react"),{className:"_7iw1"+(a.isDisabled?" _8xo3":""),height:a.imageHeight,src:a.imageURI,width:a.imageWidth}),h.jsx(b("FDSPrivateListItemLabel.react"),{isDisabled:a.isDisabled,label:a.label,sublabel:a.sublabel})]})};return c}(h.PureComponent);e.exports=b("makeFDSStandardComponent")("FDSPrivateListMediaItem",a)}),null);
__d("FDSSelectableListMediaItem.react",["FDSPrivateListMediaItem.react","React","makeFDSStandardComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("FDSPrivateListMediaItem.react"),babelHelpers["extends"]({},this.props))};return c}(g.PureComponent);a.defaultProps={imageWidth:80,imageHeight:60};e.exports=b("makeFDSStandardComponent")("FDSSelectableListMediaItem",a)}),null);
__d("XEventFeedRefetchPrivacySelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/feed/get/privacy_selector/",{event_id:{type:"Int"},acontext:{type:"StringToStringMap"},active_tab:{type:"Enum",enumType:1}})}),null);
__d("EventsRsvpButtonWithPrivacyBottomSheet.react",["ix","cx","fbt","Arbiter","AsyncRequest","ContextualLayerAutoFlip","DOMContainer.react","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventWatchStatus","FDSSelectableList.react","FDSSelectableListMediaItem.react","FDSText.react","Image.react","React","RelayModern","XEventFeedRefetchPrivacySelectorController","XUIButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","asset","cxMargin","nullthrows","EventsRsvpButtonWithPrivacyBottomSheet_event.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l=16,m=16;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogShown:!1},d.$1=function(a){b("Arbiter").inform("EventsRsvpButtonWithPrivacyBottomSheet/menuItemClick"),a!==d.state.dialogShown&&d.setState({dialogShown:a})},d.$2=function(){var a=d.state.dialogShown;d.setState({dialogShown:!a},function(){this.privacySelectorDefined()&&this.state.dialogShown&&this.$3()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a,c=b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getFromString(this.props.actionContext),{surface:(a=b("EventsActionsLogger")).Surface.NEWSFEED,mechanism:a.Mechanism.FEED_STORY,extra_data:JSON.stringify({event_id:this.props.event.eventID})});a.log(this.props.event.eventID,{type:a.Type.VIEW,target:a.Target.PRIVACY_BOTTOM_SHEET,surface:a.Surface.RSVP_PREFERENCES_SHEET,mechanism:a.Mechanism.PRIVACY_BOTTOM_SHEET,acontext:c})};d.renderLayers=function(){var a=this,c=this.props.event,d=c.connectionStyle,e=c.hasChildEvents,f=c.watchStatus;c=c.eventID;if(d!==b("EventConnectionStyle").INTERESTED)return null;d=f===b("EventWatchStatus").WATCHED;f=f===b("EventWatchStatus").GOING;var h=f?b("EventRSVPActionStrings").getGoingActionText():b("EventRSVPActionStrings").getInterestedActionText();e=e==null||e===!1?k.jsx(b("FDSSelectableListMediaItem.react"),{imageURI:f?g("494027"):"/images/events/transparent_16.png",imageWidth:l,imageHeight:m,itemID:b("EventWatchStatus").GOING,label:f?b("EventRSVPActionStrings").getGoingActionText():b("EventRSVPActionStrings").getGoingDecidedText()},b("EventWatchStatus").GOING):null;f=k.jsx(b("FDSSelectableListMediaItem.react"),{imageURI:d?g("494027"):"/images/events/transparent_16.png",imageWidth:l,imageHeight:m,itemID:b("EventWatchStatus").WATCHED,label:d?b("EventRSVPActionStrings").getInterestedActionText():b("EventRSVPActionStrings").getInterestedDecidedText()},b("EventWatchStatus").WATCHED);e=[e,f,k.jsx(b("FDSSelectableListMediaItem.react"),{imageURI:"/images/events/transparent_16.png",imageWidth:l,imageHeight:m,itemID:b("EventWatchStatus").UNWATCHED,label:d?b("EventRSVPActionStrings").getInterestedNegateText():b("EventRSVPActionStrings").getGoingNegateText()},b("EventWatchStatus").UNWATCHED)].filter(Boolean);f="privacy_selector_"+b("nullthrows")(c);d=this.props.privacySelector!==void 0&&this.props.privacySelector!==null?k.jsx(b("DOMContainer.react"),{children:this.props.privacySelector}):k.jsx(b("XUIButton.react"),{image:k.jsx(b("Image.react"),{src:g("535092")}),imageRight:k.jsx(b("Image.react"),{src:g("502187")}),label:"Friends",size:"medium"});return k.jsxs("span",{className:"_89c0",children:[k.jsx("span",{className:"_89b-",children:k.jsx(b("XUIButton.react"),{className:"_89c1 _8age",label:h,image:k.jsx(b("Image.react"),{src:g("494026"),className:"_89av"}),imageRight:k.jsx(b("Image.react"),{src:g("502187"),className:"_89aw"}),use:"default",onClick:this.$2,ref:function(b){return a.refs_link=b},size:"large"})}),k.jsxs(b("XUIContextualDialog.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},contextRef:function(){return a.refs_link},hideOnBlur:!0,label:i._("Events RSVP Button"),shown:this.state.dialogShown,position:"below",onToggle:this.$1,width:b("XUIContextualDialog.react").WIDTH.NORMAL,alignment:"right",children:[k.jsx(b("XUIContextualDialogBody.react"),{children:k.jsx(b("FDSSelectableList.react"),{margin:"_3-8s _3-8m",onSelectionChange:function(b){a.$4(b[0])},density:"dense",selectionType:"single",children:e})}),k.jsx(b("XUIContextualDialogFooter.react"),{className:"uiBoxGray _8akd",children:k.jsxs("div",{className:"_8akd",children:[k.jsx(b("FDSText.react"),{size:"body",children:this.props.privacyString}),k.jsx("span",{className:"_8agg",children:k.jsx("span",{className:f,children:d})})]})})]},"contextualDialog")]})};d.render=function(){return k.jsx("span",{children:this.renderLayers()})};d.privacySelectorDefined=function(){return this.props.privacySelector!==void 0&&this.props.privacySelector!==null};d.$5=function(a){};d.getSelector=function(){if(!this.privacySelectorDefined()){var a=b("EventActionContext").getFromString(this.props.actionContext);a=b("EventActionContext").toStringMap(a);a=b("XEventFeedRefetchPrivacySelectorController").getURIBuilder().setInt("event_id",this.props.event.eventID).setStringToStringMap("acontext",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setReadOnly(!0).setHandler(function(a){}).setErrorHandler(function(a){}).send()}};d.componentDidMount=function(){this.getSelector()};d.UNSAFE_componentWillUpdate=function(){this.getSelector()};d.$4=function(a){var c=this.props,d=c.actionContext,e=c.encryptedTracking;c=c.event;var f=c.eventID;c=c.watchStatus;if(c===a){this.$1(!1);return}a===b("EventWatchStatus").WATCHED?b("EventsRelayWatchActions").watch({eventID:f},d,e,this.$5):a===b("EventWatchStatus").UNWATCHED?b("EventsRelayWatchActions").unwatch({eventID:f},d,e,this.$5):a===b("EventWatchStatus").GOING&&b("EventsRelayWatchActions").going({eventID:f},d,e,this.$5);b("EventsActionsLogger").log(this.props.event.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.RSVP_BUTTON,acontext:b("EventActionContext").getFromString(this.props.actionContext)});this.$1(!1)};return c}(k.Component);e.exports=a(c,{event:j!==void 0?j:j=b("EventsRsvpButtonWithPrivacyBottomSheet_event.graphql")})}),null);
__d("EventsRelayWatchButtonForBottomSheet.react",["cx","AsyncRequest","EventActionContext","EventConnectionStyle","EventRSVPActionStrings","EventsActionsLogger","EventsRelayWatchActions","EventsRsvpButtonWithPrivacyBottomSheet.react","EventWatchStatus","Image.react","React","RelayModern","XEventFeedPrivacySelectorToastController","XEventFeedRefetchPrivacySelectorController","XUIButton.react","EventsRelayWatchButtonForBottomSheet_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.$2();b("EventsRelayWatchActions").watch({eventID:d.props.event.eventID},d.props.actionContext,d.props.encryptedTracking,d.$3.bind(babelHelpers.assertThisInitialized(d)));var a=b("EventActionContext").getNewActionContext(),c=b("EventActionContext").addActionHistoryEntry(a,{surface:(a=b("EventsActionsLogger")).Surface.NEWSFEED,mechanism:a.Mechanism.FEED_STORY,extra_data:JSON.stringify({event_id:d.props.event.eventID})});c=b("EventActionContext").addActionHistoryEntry(c,{surface:a.Surface.RSVP_PREFERENCES_SHEET,mechanism:a.Mechanism.PRIVACY_BOTTOM_SHEET,extra_data:JSON.stringify({event_id:d.props.event.eventID})});a.log(d.props.event.eventID,{type:a.Type.CLICK,target:a.Target.RSVP_BUTTON,acontext:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.actionContext,d=a.encryptedTracking;a=a.event;var e=null,f=null;a!=null&&(e=a.connectionStyle,f=a.watchStatus);if(e!==b("EventConnectionStyle").INTERESTED)return null;e=f===b("EventWatchStatus").WATCHED;f=f===b("EventWatchStatus").GOING;if(e||f)return i.jsx(b("EventsRsvpButtonWithPrivacyBottomSheet.react"),{event:a,encryptedTracking:d,actionContext:c,privacySelector:this.props.privacySelector,privacyString:this.props.privacyString});e=i.jsx(b("Image.react"),{src:"/images/events/interested-button.png",className:"_89b- _89b_"});return i.jsx("span",{className:"_89at",children:i.jsx("span",{className:"_89at",children:i.jsx(b("XUIButton.react"),{className:"_89au fbEventAttachmentCTAButton",size:"large",image:e,label:b("EventRSVPActionStrings").getInterestedActionText(),onClick:this.$1})})})};d.$2=function(){var a=b("EventActionContext").getFromString(this.props.actionContext);a=b("EventActionContext").toStringMap(a);a=b("XEventFeedPrivacySelectorToastController").getURIBuilder().setInt("event_id",this.props.event.eventID).setStringToStringMap("acontext",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setReadOnly(!0).setHandler(function(a){}).setErrorHandler(function(a){}).send()};d.$3=function(a){if(a){a=b("EventActionContext").getFromString(this.props.actionContext);a=b("EventActionContext").toStringMap(a);a=b("XEventFeedRefetchPrivacySelectorController").getURIBuilder().setInt("event_id",this.props.event.eventID).setEnum("active_tab","off_permalink").setStringToStringMap("acontext",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setReadOnly(!0).setHandler(function(a){}).setErrorHandler(function(a){}).send()}};return c}(i.Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventsRelayWatchButtonForBottomSheet_event.graphql")})}),null);
__d("EventsRsvpButtonWithPrivacyBottomSheetRenderer.react",["BanzaiODS","EventActionContext","EventsActionsLogger","EventsRelayWatchButtonForBottomSheet.react","FBLogger","FDSSpinner.react","React","RelayFBEnvironment","RelayModern","EventsRsvpButtonWithPrivacyBottomSheetRendererQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g!==void 0?g:g=b("EventsRsvpButtonWithPrivacyBottomSheetRendererQuery.graphql");function a(a){var c=a.eventID,d=a.privacySelector,e=babelHelpers.objectWithoutPropertiesLoose(a,["eventID","privacySelector"]),f={eventID:c},g=a.actionContext===null?b("EventActionContext").toString(b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.NEWSFEED,mechanism:b("EventsActionsLogger").Mechanism.PRIVACY_BOTTOM_SHEET,extra_data:JSON.stringify({event_id:c})})):a.actionContext;return h.jsx(i,{environment:b("RelayFBEnvironment"),query:j,variables:f,render:function(a){var c=a.error;a=a.props;if(c){b("FBLogger")("EventsRSVPButtonWithPrivacyBottomSheet").catching(c).debug("Error querying graphQL endpoint for events\n              info for RSVP button with privacy bottom sheet");b("BanzaiODS").bumpEntityKey(830,"events_rsvp_button_with_privacy_bottom_sheet","renderer_error");return null}else if(a)return h.jsx(b("EventsRelayWatchButtonForBottomSheet.react"),babelHelpers["extends"]({encryptedTracking:a.encryptedTracking,event:a.event,actionContext:g,privacySelector:d,privacyString:a.privacyString},e));return h.jsx(b("FDSSpinner.react"),{size:"large"})}})}e.exports=a}),null);