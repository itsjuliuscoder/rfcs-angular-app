if (self.CavalryLogger) { CavalryLogger.start_js(["pTvze"]); }

__d("PagesManagerActivitySection",[],(function(a,b,c,d,e,f){e.exports={DRAFT_POSTS:"draft_posts",INFO_REQUESTS:"info_requests",MESSAGES:"messages",NOTIFICATIONS:"notifications",PAGES_FEED:"pages_feed",SCHEDULED_POSTS:"scheduled_posts",STORIES_TO_SHARE:"stories_to_share"}}),null);
__d("PagesMessengerActions",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({MARK_AS_READ:null,MARK_AS_UNREAD:null,FLAG:null,UNFLAG:null,FILTER_ALL:null,FILTER_UNREAD:null,DELETE_THREAD:null,DELETE_MESSAGE:null,ARCHIVE:null,UNARCHIVE:null,MARK_AS_SPAM:null,MARK_AS_UNSPAM:null,MARK_AS_DONE:null,ONVISIBLE_INIT:null,ONVISIBLE_RESET:null,VIEW_ACTION:null,HIDE_CONTEXT_CARD:null,SHOW_CONTEXT_CARD:null,GO_TO_INBOX:null,SHOW_BAN_FROM_PAGE:null,MOVE_TO_INBOX:null});e.exports=a}),null);
__d("PagesMessengerDispatcher",["Dispatcher_DEPRECATED","PagesMessengerActions"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.handleUpdateFromViewAction=function(a){this.dispatch({source:b("PagesMessengerActions").VIEW_ACTION,action:a})};return c}(b("Dispatcher_DEPRECATED"));e.exports=new a()}),null);
__d("PageLikesBrowserFan.react",["cx","DOM","DOMContainer.react","Image.react","ImageBlock.react","Link.react","React","isNode","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.fanData,c=b("isNode")(a.bio)?a.bio:b("DOM").create("div",{},a.bio.markup),d=b("isNode")(a.social_context)?a.social_context:b("DOM").create("div",{},a.social_context.markup);return h.jsx("li",{className:"_sr8 _2pi4",children:h.jsxs(b("ImageBlock.react"),{spacing:"large",children:[h.jsxs("div",{className:"_sr9 _3-9b",children:[h.jsx("div",{className:"_sra"}),h.jsx(b("Image.react"),{src:a.photo})]}),h.jsxs("div",{className:"_srb",children:[h.jsx(b("Link.react"),{className:"_src",href:a.uri,children:a.name}),h.jsx(b("DOMContainer.react"),{children:c}),h.jsx(b("DOMContainer.react"),{children:d})]})]})})};return c}(h.Component);a.propTypes={fanData:b("prop-types").object.isRequired,pageID:b("prop-types").string.isRequired};e.exports=a}),null);
__d("PageLikesBrowserFansList.react",["cx","fbt","InfiniteScrollArea.react","PageLikesBrowserFan.react","React","XUIGrayText.react","XUISpinner.react","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.loadMore()};d.render=function(){var a=this,c=this.props.defaultOption==="followers"?h._("End of Page Followers"):h._("End of Page Fans");c=this.props.hasMore?i.jsx(b("XUISpinner.react"),{background:"light",size:"large"}):i.jsx(b("XUIGrayText.react"),{size:"header4",children:c});c=i.jsx("li",{className:"_3mdp _2ph-",children:c});var d=this.props.fansData.map(function(c){return i.jsx(b("PageLikesBrowserFan.react"),{fanData:c,pageID:a.props.pageID},c.id)});return i.jsx(b("InfiniteScrollArea.react"),babelHelpers["extends"]({},this.props,{distanceToEnd:50,onEndReached:this.props.loadMore,children:i.jsxs("ul",{children:[d,c]})}))};return c}(i.Component);a.propTypes={defaultOption:(c=b("prop-types")).string.isRequired,fansData:c.array,hasMore:c.bool,loadMore:c.func,pageID:c.string.isRequired};a.defaultProps={fansData:[],hasMore:!1,loadMore:b("emptyFunction")};e.exports=a}),null);
__d("XPageLikesBrowserDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/build_audience/page_likes_browser/data/",{limit:{type:"Int",defaultValue:10},offset:{type:"Int",defaultValue:0},page_id:{type:"Int",required:!0},type:{type:"String",required:!0}})}),null);
__d("PageLikesBrowser.react",["cx","AsyncRequest","PageLikesBrowserFansList.react","React","XPageLikesBrowserDataController","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currenType:d.props.defaultOption,fansData:[],hasMore:!0,isLoadingMore:!1,offset:0},d.fetchFansData=function(){if(d.state.isLoadingMore)return;d.setState({isLoadingMore:!0});var a=b("XPageLikesBrowserDataController").getURIBuilder().setInt("page_id",d.props.pageID).setString("type",d.state.currenType).setInt("offset",d.state.offset).setInt("limit",d.props.limit).getURI();d.$1=new(b("AsyncRequest"))().setURI(a).setHandler(function(a){d.setState({fansData:d.state.fansData.concat(a.getPayload().fans_data),hasMore:a.getPayload().fans_data.length>0,offset:d.state.offset+d.props.limit})}).setFinallyHandler(function(){return d.setState({isLoadingMore:!1})});d.$1.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1.abandon()};d.render=function(){return h.jsx("div",{style:{height:400},children:h.jsx(b("PageLikesBrowserFansList.react"),{className:"_4f1d",fansData:this.state.fansData,loadMore:this.fetchFansData,hasMore:this.state.hasMore,pageID:this.props.pageID,shadow:this.props.listShadow,defaultOption:this.props.defaultOption})})};return c}(h.Component);a.propTypes={defaultOption:(c=b("prop-types")).string.isRequired,listShadow:c.bool,pageID:c.string.isRequired,selectorOptions:c.array,limit:c.string.isRequired};e.exports=a}),null);
__d("PagesSelectableList.react",["cx","fbt","invariant","LeftRight.react","Link.react","List.react","OnVisible.react","PagesSelectableListCheckbox.react","React","ReactDOM","ScrollableArea.react","Vector","XUISpinner.react","debounce","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={allSelected:!1,selectedRows:new Map(d.props.initiallySelectedRows.map(function(a){return[a,!0]})),shouldLoadMore:!0,scrollableAreaHeight:0,scrollableWidth:0,bulkCheckBoxChecked:!1},d.$3=function(){return j.jsxs("div",{ref:"header",children:[j.jsxs(b("LeftRight.react"),{className:"_33v2",children:[j.jsxs("div",{className:d.props.hideBatchAction?"hidden_elem":"",children:[j.jsx(b("PagesSelectableListCheckbox.react"),{checked:d.state.bulkCheckBoxChecked,className:"_33v3",onChange:d.bulkSelect}),j.jsxs("span",{children:[j.jsx(b("Link.react"),{className:"_33v4"+(d.state.allSelected?" _33vd":""),href:"#",onClick:d.$6,children:d.props.selectAllLabel}),j.jsx(b("Link.react"),{className:"_33v4"+(d.state.selectedRows.size===0?" _33vd":""),href:"#",onClick:d.$7,children:d.props.deselectAllLabel}),j.jsx("span",{children:d.props.customLeftComponent})]})]}),j.jsx("div",{children:d.props.actionBarRightComponent})]}),d.props.header]})},d.$4=function(){var a=b("debounce")(d.$2,500),c=null;d.props.onRequestMoreRows&&d.state.shouldLoadMore&&d.props.enableOnVisible&&(c=j.jsx(b("OnVisible.react"),{buffer:20,onVisible:d.props.scrollableAreaMode?b("emptyFunction"):a,ref:"onvisible",children:j.jsx("div",{className:"_33v1 _5m_q",children:d.props.loadingIndicator})}));a=j.jsxs(b("List.react"),{border:"none",className:"_33vf",onSelected:null,spacing:"none",children:[d.$8(),c]});return d.props.scrollableAreaMode?j.jsx(b("ScrollableArea.react"),{className:"_5nbb",height:d.state.scrollableAreaHeight,onScroll:b("debounce")(d.$9,500),ref:"scrollableArea",shadow:d.props.scrollableAreaHasShadow,width:d.props.scrollableWidth,children:a}):a},d.$8=function(){return j.Children.map(d.props.children,function(a){if(!d.$10(a))return a;a.key||i(0,1581);var b={onSelected:d.$11.bind(babelHelpers.assertThisInitialized(d),a.key),selected:d.state.selectedRows.has(a.key)};return j.cloneElement(a,b)})},d.$6=function(){d.bulkSelect(!0)},d.$7=function(){d.bulkSelect(!1)},d.bulkSelect=function(a){var b=new Map(),c;({});if(a){var e=[];j.Children.forEach(d.props.children,function(a){if(!d.$10(a))return;b.set(a.key,!0);d.state.selectedRows.has(a.key)||e.push(a.key)});c={rowsAdded:e,rowsRemoved:[],selectedRows:Array.from(b.keys())}}else c={rowsAdded:[],rowsRemoved:Array.from(d.state.selectedRows.keys()),selectedRows:[]};c=Object.assign(c,{allSelected:a});d.setState({selectedRows:b,allSelected:a,bulkCheckBoxChecked:d.$1(b)});d.props.onSelectionChange(c)},d.$11=function(a,b){var c=d.state.selectedRows;b?c.set(a,!0):c["delete"](a);var e=c.size===d.props.children.length;d.setState({selectedRows:c,allSelected:e,bulkCheckBoxChecked:d.$1(c)});d.props.onSelectionChange({allSelected:e,rowsAdded:b?[a]:[],rowsRemoved:b?[]:[a],selectedRows:Array.from(c.keys())})},d.$2=function(){if(!d.state.shouldLoadMore)return;if(d.props.scrollableAreaMode){var a=d.refs.scrollableArea.getArea();if(a&&!a.isScrolledToBottom())return}d.props.onRequestMoreRows(function(a){d.setState({shouldLoadMore:a})})},d.$9=function(){d.props.scrollableAreaOnScroll&&d.props.scrollableAreaOnScroll(),d.$2()},d.clearSelection=function(){d.setState({selectedRows:new Map(),allSelected:!1,bulkCheckBoxChecked:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.state.shouldLoadMore&&this.refs.onvisible&&this.refs.onvisible.reset();if(a.children.length!==this.props.children.length){var b=this.state.selectedRows.size===a.children.length;this.setState({allSelected:b,bulkCheckBoxChecked:this.$1(this.state.selectedRows)})}a.forceRequestMoreRows&&(this.setState({shouldLoadMore:!0}),this.$2())};d.render=function(){return j.jsxs("div",babelHelpers["extends"]({},this.props,{children:[this.$3(),this.$4()]}))};d.componentDidMount=function(){this.$5(this.props.height)};d.componentDidUpdate=function(a){this.$5(this.props.height)};d.$1=function(a){if(!a||a.size===0)return!1;return a.size===this.props.children.length?!0:null};d.$5=function(a){if(!this.props.scrollableAreaMode)return;var c=b("Vector").getElementDimensions(b("ReactDOM").findDOMNode(this.refs.header)).y;c>a&&(c=a);this.state.scrollableAreaHeight!==a-c&&this.setState({scrollableAreaHeight:a-c})};d.$10=function(a){return a.type!=="li"};return c}(j.Component);a.propTypes={actionBarRightComponent:(c=b("prop-types")).element,customLeftComponent:c.element,deselectAllLabel:c.oneOfType([c.string,c.element]),enableOnVisible:c.bool,forceRequestMoreRows:c.bool,header:c.element,height:c.number,hideBatchAction:c.bool,loadingIndicator:c.element,onRequestMoreRows:c.func,onSelectionChange:c.func.isRequired,scrollableAreaMode:c.bool,scrollableAreaOnScroll:c.func,scrollableAreaHasShadow:c.bool,scrollableWidth:c.number,selectAllLabel:c.oneOfType([c.string,c.element]),initiallySelectedRows:c.array};a.defaultProps={customLeftComponent:j.jsx("div",{}),deselectAllLabel:h._("Clear Selection"),enableOnVisible:!0,loadingIndicator:j.jsx(b("XUISpinner.react"),{size:"large"}),scrollableAreaMode:!1,selectAllLabel:h._("Select All"),scrollableAreaHasShadow:!0,initiallySelectedRows:[]};e.exports=a}),null);
__d("PagesSelectableListRow.react",["cx","React","XUICheckboxInput.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onSelected(a.target.checked)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_4vb8"+(this.props.selected?" _4vb9":"")+(this.props.selected?"":" _2ov")+(this.props.active&&!this.props.selected?" _4y4i":"")+(this.props.unread?" _4vba":""));return h.jsxs("li",babelHelpers["extends"]({},this.props,{className:a,children:[h.jsx(b("XUICheckboxInput.react"),{checked:this.props.selected,className:"_4vbb",disabled:this.props.disabled,onChange:this.$1}),h.jsx("div",{children:this.props.children})]}))};return c}(h.PureComponent);a.propTypes={disabled:(c=b("prop-types")).bool,selected:c.bool,unread:c.bool,active:c.bool};a.defaultProps={disabled:!1,selected:!1,unread:!1,active:!1};e.exports=a}),null);
__d("PagesInfoRequestsLogger",["BanzaiLogger","immutable"],(function(a,b,c,d,e,f){"use strict";var g=null,h=!1;a={logTabView:function(){b("BanzaiLogger").log("AdminProposalsLoggerConfig",{event:"viewed_requests_tab"}),g?this._logProposalsSeen():h=!0},setRenderedProposalIDs:function(a){g=b("immutable").List(a),h&&(this._logProposalsSeen(),h=!1)},_logProposalsSeen:function(){g.forEach(function(a){b("BanzaiLogger").log("AdminProposalsLoggerConfig",{event:"viewed_proposal",proposal_id:a})})}};e.exports=a}),null);
__d("PagesManagerSideNav.react",["cx","Image.react","PagesHelpTrayActions","PageTransitions","React","URI","XUIScrubber.react","prop-types"],(function(a,b,c,d,e,f,g){var h,i=b("React"),j=b("XUIScrubber.react").Item,k=b("XUIScrubber.react").SubItem;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){a=a.map(function(a){return d.$2(a)});return i.jsx(b("XUIScrubber.react"),{className:"_2thr",selected:d.props.section,children:a},c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,b=this.props.config.groups.map(function(b,c){return a.$1(b,c)});return i.jsx("div",{children:b})};d.$2=function(a){var c=this,d=this.props.config.sections[a],e=Object.keys(d.subsections).map(function(b){return c.$3(a,b)});return i.jsxs(j,{bubbleType:d.bubbleType,count:d.count,onSelect:this.$4.bind(this,a),selected:this.props.section===a?this.props.subsection:null,children:[i.jsx(b("Image.react"),{src:d.icon}),d.label,e]},a)};d.$3=function(a,b){var c=this.props.config.sections[a];c=c.subsections[b];return i.jsx(k,{count:c.count,onSelect:this.$4.bind(this,a,b),children:c.label},b)};d.$4=function(a,c){a=new(h||(h=b("URI")))(this.props.config.baseURI).addQueryData({section:a,subsection:c}).toString();b("PagesHelpTrayActions").changeTab();b("PageTransitions").go(a,!0)};return c}(i.Component);a.propTypes={config:b("prop-types").object.isRequired,section:b("prop-types").string.isRequired,subsection:b("prop-types").string};e.exports=a}),null);
__d("PagesNotificationsConstants",["PagesManagerNotificationsConstants","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.assign(b("PagesManagerNotificationsConstants"),{Actions:b("keyMirror")({INITIAL_LOAD:null,LOAD_MORE:null,MARK_READ:null,MARK_SEEN:null,MARK_UNREAD:null,NOTIFICATIONS_SELECTED:null,NOTIFICATIONS_DESELECTED:null}),Events:b("keyMirror")({CHANGE:null,UPDATE_UNREAD_COUNT:null}),Sources:b("keyMirror")({SERVER:null,VIEW_ACTION:null})});e.exports=a}),null);
__d("ImmutableMap",["invariant","ImmutableValue","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h="_DONT_EVER_TYPE_THIS_SECRET_KEY",i="__size_DoNotEverTouchThis",j="__keyByIndexDoNotEverTouchThis",k="__indexByKeyDoNotEverTouchThis";function l(a){var b=isNaN(+a)||a.substring&&a.substring(0,1)===".",c=a===j||a===k||a===i;return!c&&typeof a==="string"&&a!==""&&b}function m(a,b,c){typeof a==="number"&&typeof b==="number"&&b>=0&&a>=0&&a+b<=c||g(0,4953)}function n(a){return a instanceof b("ImmutableValue")&&Object.prototype.hasOwnProperty.call(a,i)}function o(a){n(a)||g(0,4954)}function p(a){return a===i||a===j||a===k}function q(a,b,c,d){b={enumerable:!1,configurable:!0,writable:!0,value:b};c={enumerable:!1,configurable:!0,writable:!0,value:c};d={enumerable:!1,configurable:!0,writable:!0,value:d};Object.defineProperty(a,i,b);Object.defineProperty(a,j,c);Object.defineProperty(a,k,d)}var r={create:function(){var a=new(b("ImmutableValue"))(b("ImmutableValue")[h]),c=r.mergeAndValidateAllPropertiesInto(a,arguments);q(a,c,[],{});a[j].areComputed=!1;return a},mergeAndValidateAllPropertiesInto:function(a,b){var c=b.length,d=0;for(var e=0;e<c;e++){var f=b[e];for(var h in f){if(!Object.prototype.hasOwnProperty.call(f,h)||n(f)&&p(h))continue;Object.prototype.hasOwnProperty.call(a,h)||(l(h)||g(0,4955),d++);var i=f[h];i!==void 0||g(0,4956);a[h]=i}}return d},customDeepFreezeRootNode:function(a){o(a);Object.freeze(a);for(var c in a){if(!Object.prototype.hasOwnProperty.call(a,c)||p(c))continue;b("ImmutableValue").recurseDeepFreeze(a[c])}Object.seal(a)},set:function(a,c){o(a);c instanceof b("ImmutableValue")||typeof c==="object"&&c!==void 0&&!Array.isArray(c)||g(0,3885);return r.create(a,c)},fromArray:function(a,c){var d=Array.isArray(a),e=typeof c==="function";d||g(0,4957);e||g(0,4958);d=new(b("ImmutableValue"))(b("ImmutableValue")[h]);e=[];var f={};q(d,a.length,e,f);for(var i=0;i<a.length;i++){var j=a[i],k=c(j,i);Object.prototype.hasOwnProperty.call(d,k)&&g(0,4959,k);l(k)||g(0,4960,k);d[k]=j;e[i]=""+k;f[k]=i}e.areComputed=!0;return d},size:function(a){o(a);r._computePositionsIfNeeded(a);return a[i]},has:function(a,b){l(b)||g(0,4960,b);o(a);return Object.prototype.hasOwnProperty.call(a,b)},get:function(a,b){l(b)||g(0,4960,b);return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},map:function(a,b,c){o(a);r._computePositionsIfNeeded(a);return r.mapRange(a,b,0,r.size(a),c)},mapRange:function(a,b,c,d,e){o(a);r._computePositionsIfNeeded(a);var f={},g=0;m(c,d,r.size(a));d=c+d-1;for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){if(g>=c){if(g>d)break;f[h]=b.call(e,a[h],h,g)}g++}return r.create(f)},filter:function(a,b,c){return r.filterRange(a,b,0,r.size(a),c)},filterRange:function(a,b,c,d,e){var f={};r.forEachRange(a,function(a,c,d){b.call(e,a,c,d)&&(f[c]=a)},c,d);return r.create(f)},forEach:function(a,b,c){r.forEachRange(a,b,0,r.size(a),c)},forEachRange:function(a,b,c,d,e){o(a);m(c,d,r.size(a));var f=0;d=c+d-1;for(var g in a)if(Object.prototype.hasOwnProperty.call(a,g)){if(f>=c){if(f>d)break;b.call(e,a[g],g,f)}f++}},mapKeyRange:function(a,b,c,d,e){c=r.indexOfKey(a,c);d=r.indexOfKey(a,d);c!=null&&d!=null||g(0,3989);d>=c||g(0,4961);d=d-c+1;return r.mapRange(a,b,c,d,e)},forEachKeyRange:function(a,b,c,d,e){c=r.indexOfKey(a,c);d=r.indexOfKey(a,d);c!=null&&d!=null||g(0,3991);d>=c||g(0,4962);d=d-c+1;r.forEachRange(a,b,c,d,e)},keyAtIndex:function(a,b){r._computePositionsIfNeeded(a);a=a[j][b];return a?a:void 0},valueAtIndex:function(a,b){b=r.keyAtIndex(a,b);return b!==void 0?a[b]:void 0},keyAfter:function(a,b){return r.nthKeyAfter(a,b,1)},keyBefore:function(a,b){return r.nthKeyBefore(a,b,1)},nthKeyAfter:function(a,b,c){var d=r.indexOfKey(a,b);d!==void 0||g(0,4963,b);return r.keyAtIndex(a,d+c)},nthKeyBefore:function(a,b,c){return r.nthKeyAfter(a,b,-c)},indexOfKey:function(a,b){l(b)||g(0,4960,b);r._computePositionsIfNeeded(a);a=a[k][b];return a===void 0?void 0:a},slice:function(a,c,d){return r.mapRange(a,b("emptyFunction").thatReturnsArgument,c,d)},sliceByKey:function(a,b,c){b=r.indexOfKey(a,b);c=r.indexOfKey(a,c);b!=null&&c!=null||g(0,4964);c>=b||g(0,4965);c=c-b+1;return r.slice(a,b,c)},toArray:function(a){var b=0,c=r.size(a),d=[];for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){if(b>c)break;d.push(a[e]);b++}return d},_computePositionsIfNeeded:function(a){a[j].areComputed===!1&&r._computePositionsFromDictionary(a)},_computePositionsFromDictionary:function(a){var b=a[j],c=a[k],d=0;for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[d]=e,c[e]=d,d++);a[j].areComputed=!0}};e.exports=r}),null);
__d("PagesNotification",["invariant","BackgroundImage.react","Image.react","ImmutableMap","MercuryTimestamp","NotificationTokens","PagesNotificationsConstants","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(){a.create=function(b){return b instanceof a?b:new a(b)};function a(a){this.$1=b("ImmutableMap").create(a)}var c=a.prototype;c.$2=function(a){return b("ImmutableMap").get(this.$1,a)};c.getAlertID=function(){return b("NotificationTokens").untokenizeIDs([this.$2("alert_id")])[0]};c.getCreatedDate=function(){return new Date(this.$3())};c.getDescription=function(){return null};c.getFeaturedContent=function(){return this.$1.previewImage!==null&&this.$1.previewImage.uri!==null?h.jsx(b("BackgroundImage.react"),{backgroundSize:"cover",height:48,src:this.$1.previewImage.uri,width:66}):null};c.getProfileImage=function(){return this.$1.thumbnail!==null&&this.$1.thumbnail.uri!==null?h.jsx(b("Image.react"),{height:48,src:this.$1.thumbnail.uri,width:48}):null};c.getFilter=function(){var a=b("PagesNotificationsConstants").TypesByFilter,c=Object.keys(a),d=this.getType();for(var e=0;e<c.length;e++){var f=c[e];if(a[f].indexOf(d)>=0)return f}return b("PagesNotificationsConstants").Filters.OTHER};c.getHumanReadableTimestamp=function(a,c){c=c||b("MercuryTimestamp").getTimeBucket(this.$3());c=b("MercuryTimestamp").getFormattedTimestampByBucket(this.$4(),c);a&&(c=c[a],c||g(0,3175,a));return c};c.getIconURI=function(){var a;return(a=this.$2("icon"))==null?void 0:a.uri};c.getID=function(){return this.$2("id")};c.getPreviewData=function(){return this.$2("page_notification_preview_data")};c.hasPreviewData=function(){return this.getPreviewData()!==null};c.$4=function(){return this.$2("creation_time")};c.$3=function(){return this.$4()*1e3};c.getTitle=function(){return this.$2("title")?this.$2("title").text:""};c.getType=function(){return this.$2("notif_type")};c.getURL=function(){return this.$2("url")};c.isSelected=function(){return this.$2("selected")||!1};c.isUnread=function(){return this.$2("seen_state")!=="SEEN_AND_READ"};c.isUnseen=function(){return this.$2("seen_state")==="UNSEEN_AND_UNREAD"};c.setSeenAndRead=function(a,b){b==null&&(b=!this.isUnread());a==null&&(a=!this.isUnseen());var c="UNSEEN_AND_UNREAD";b?c="SEEN_AND_READ":a&&(c="SEEN_BUT_UNREAD");return this.__setSeenState(c)};c.__setSeenState=function(a){var c=this.$2("seen_state");return c!==a?b("ImmutableMap").set(this.$1,{seen_state:a}):this.$1};c.setSelected=function(a){return b("ImmutableMap").set(this.$1,{selected:a})};return a}();e.exports=a}),null);
__d("PagesNotificationsDispatcher",["invariant","ImmutableMap","PagesNotificationsConstants","ReactDispatcher_DEPRECATED","coalesce"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.handleViewAction=function(a){this.$PagesNotificationsDispatcher1({source:b("PagesNotificationsConstants").Sources.VIEW_ACTION,action:a})};d.handleServerAction=function(a){this.$PagesNotificationsDispatcher1({source:b("PagesNotificationsConstants").Sources.SERVER,action:a})};d.$PagesNotificationsDispatcher1=function(a){if(a.action){var c=a.action.notifications;Array.isArray(c)&&(a.action.notifications=c.map(function(a){if(Object.prototype.hasOwnProperty.call(a,"page_notification_preview_data")===!1){var c=a.preview_data;if(c==null)a.page_notification_preview_data=null;else{var d,e,f,g,h,i;i=(i=c)!=null?(i=i.data)!=null?i.actor_id:i:i;h=(h=c)!=null?(h=h.data)!=null?h.defaultOption:h:h;g=(g=c)!=null?(g=g.data)!=null?g.isReact:g:g;f=(f=c)!=null?(f=f.data)!=null?f.limit:f:f;e=(e=c)!=null?(e=e.data)!=null?e.listShadow:e:e;d=b("coalesce")((d=c)!=null?(d=d.data)!=null?d.pageID:d:d,(d=c)!=null?(d=d.data)!=null?d.page:d:d);var j=c.pagelet;c=(c=c)!=null?(c=c.data)!=null?c.story_id:c:c;a.page_notification_preview_data={actor_id:i==null?null:""+i,default_option:h==null?null:""+h,is_react:g==null?null:!!g,limit:f==null?null:""+f,list_shadow:e==null?null:!!e,page_id:d==null?null:""+d,pagelet:j==null?null:""+j,story_id:c==null?null:""+c}}delete a.preview_data}return a}))}this.dispatch(b("ImmutableMap").create(a))};return c}(b("ReactDispatcher_DEPRECATED"));e.exports=new a()}),null);
__d("PagesNotificationsStore",["EventEmitter","PagesNotification","PagesNotificationsConstants","PagesNotificationsDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$PagesNotificationsStore4=function(a){c.$PagesNotificationsStore1.get(c.$PagesNotificationsStore2).set(a.id,b("PagesNotification").create(a))};c.$PagesNotificationsStore1=new Map();c.$PagesNotificationsStore2=null;c.dispatchToken=b("PagesNotificationsDispatcher").register(c.$PagesNotificationsStore3.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.getAll=function(a){var b=this.$PagesNotificationsStore1.get(this.$PagesNotificationsStore2);b=Array.from(b.values());b.sort(function(a,b){return+b.getCreatedDate()-+a.getCreatedDate()});a(b)};d.getByID=function(a,b){b(this.getByIDNow(a))};d.getByIDNow=function(a){return this.$PagesNotificationsStore1.get(this.$PagesNotificationsStore2).get(a)};d.$PagesNotificationsStore5=function(a){a.forEach(this.$PagesNotificationsStore4,this)};d.$PagesNotificationsStore3=function(a){var c=a.action,d=a.source;d=d===b("PagesNotificationsConstants").Sources.SERVER;switch(c.type){case b("PagesNotificationsConstants").Actions.INITIAL_LOAD:this.$PagesNotificationsStore1.has(c.pageID)||this.$PagesNotificationsStore1.set(c.pageID,new Map()),this.$PagesNotificationsStore2=c.pageID;case b("PagesNotificationsConstants").Actions.LOAD_MORE:this.$PagesNotificationsStore5(c.notifications);break;case b("PagesNotificationsConstants").Actions.NOTIFICATIONS_SELECTED:this.$PagesNotificationsStore6(c.ids,!0);break;case b("PagesNotificationsConstants").Actions.NOTIFICATIONS_DESELECTED:this.$PagesNotificationsStore6(c.ids,!1);break;case b("PagesNotificationsConstants").Actions.MARK_READ:d?this.$PagesNotificationsStore7(a):this.$PagesNotificationsStore8(a,null,!0);this.emit(b("PagesNotificationsConstants").Events.UPDATE_UNREAD_COUNT);break;case b("PagesNotificationsConstants").Actions.MARK_UNREAD:d?this.$PagesNotificationsStore7(a):this.$PagesNotificationsStore8(a,null,!1);this.emit(b("PagesNotificationsConstants").Events.UPDATE_UNREAD_COUNT);break;case b("PagesNotificationsConstants").Actions.MARK_SEEN:d?this.$PagesNotificationsStore7(a):this.$PagesNotificationsStore8(a,!0);break}this.emit(b("PagesNotificationsConstants").Events.CHANGE)};d.$PagesNotificationsStore6=function(a,b){var c=this;a=a.map(function(a){a=c.getByIDNow(a);return a?a.setSelected(b):null}).filter(function(a){return a});this.$PagesNotificationsStore5(a)};d.$PagesNotificationsStore8=function(a,b,c){var d=this;a=a.action.ids.map(function(a){a=d.getByIDNow(a);return a?a.setSeenAndRead(b,c):null}).filter(function(a){return a});this.$PagesNotificationsStore5(a)};d.$PagesNotificationsStore7=function(a){var b=this;a=a.action.notifications.map(function(a){var c=b.getByIDNow(a.id);return c?c.__setSeenState(a.seen_state):null}).filter(function(a){return a});this.$PagesNotificationsStore5(a)};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("PagesPageNotificationMenuImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_page_notification_menu_impression");e.exports=a}),null);
__d("PagesManagerLayout.react",["cx","invariant","Arbiter","CSS","DOM","Layout.react","PagesMessengerActions","PagesEventObserver","PagesInfoRequestsLogger","PagesManagerActivitySection","PagesManagerSideNav.react","PagesMessengerDispatcher","PagesNotificationsConstants","PagesNotificationsStore","PagesPageNotificationMenuImpressionFalcoEvent","PageTransitions","React","prop-types","ReactDOM","ScrollColumn.react","UIPagelet","URI","XUICard.react","XUISpinner.react","cxMargin","emptyFunction","tidyEvent"],(function(a,b,c,d,e,f,g,h){var i,j=b("Layout.react").Column,k=b("React"),l={};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$8=function(a){var c=(i||(i=b("URI"))).getRequestURI(!1);if(a.getPath()!==c.getPath()||a.getQueryData().sk!==c.getQueryData().sk)return!1;c=a.getQueryData().section;var d=a.getQueryData().subsection;d||(d=e.$6(c));var f=e.state.config.sections[c];f||h(0,6242);var g=f.subsections[d];!d||g||h(0,6243);if(e.state.section===c){if(f.reloadOnSubsectionChange)return!1;e.$4({section:c,subsection:d,data:a.getQueryData()})}e.$5(c,a.getQueryData);e.setState({section:c,subsection:d});b("PageTransitions").transitionComplete();return!0};if(c.subsection){d=c.config.sections[c.section];d.subsections[c.subsection]||h(0,6244)}e.state={config:c.config,section:c.section,subsection:c.subsection||e.$1(c.section)};return e}var d=c.prototype;d.render=function(){var a=this,c=Object.keys(this.state.config.sections).map(function(b){var c=a.$2(b);return k.jsxs("div",{className:a.state.section!==b?"accessible_elem":"",children:[k.jsx("div",{ref:b}),c]},b)}),d=Object.keys(this.state.config.sideUnits).map(function(a){return k.jsx("div",{className:"_5ss9",ref:a,id:a},a)});return k.jsxs(b("Layout.react"),{className:"_3-8x",children:[k.jsx(j,{className:"_5ss9",role:"navigation",children:k.jsxs(b("ScrollColumn.react"),{children:[k.jsx(b("PagesManagerSideNav.react"),{config:this.state.config,section:this.state.section,subsection:this.state.subsection}),k.jsx("div",{className:"_5ss9",ref:"sideUnit"}),d]})}),k.jsx(j,{className:"_5tdr",ref:"primary",role:"main",children:c})]})};d.componentDidMount=function(){var a=this;l[this.state.section]=this.state.subsection;this.$3();if(this.state.section===b("PagesManagerActivitySection").MESSAGES){var c=this.props.refData;c.subsection=this.state.subsection||this.$1(this.state.section);c.flowID=this.props.flowID;c.loading_event_time=Date.now();b("PagesEventObserver").notify("messages_pagelet_load_start",this.props.pageID,c)}this.$4({section:this.state.section,subsection:this.state.subsection,data:(i||(i=b("URI"))).getRequestURI(!1).getQueryData(),finallyCallback:function(){Object.keys(a.state.config.sections).forEach(function(c){if(a.state.section===c)return;a.$4({section:c,data:(i||(i=b("URI"))).getRequestURI(!1).getQueryData()})})}});this.$5(this.state.section,i.getRequestURI(!1).getQueryData());Object.keys(this.state.config.sideUnits).forEach(function(c){var d=a.state.config.sideUnits[c];if(d.scroll_to_after_load){var e=d.controller.options||{},f=b("ReactDOM").findDOMNode(a.refs[d.scroll_to_after_load]);e.finallyHandler=function(){f!==null&&f.scrollIntoView(!0)};d.controller.options=e}b("UIPagelet").loadFromEndpoint(d.controller.name,b("ReactDOM").findDOMNode(a.refs[c]),babelHelpers["extends"]({},(i||(i=b("URI"))).getRequestURI(!1).getQueryData(),{page_id:a.props.pageID}),babelHelpers["extends"]({},d.controller.options,{crossPage:!0}))});b("tidyEvent")(b("Arbiter").subscribe("PagesManagerLayout/refreshSection",function(c,d){a.$4({section:d.section,subsection:a.$6(d.section),data:babelHelpers["extends"]({},(i||(i=b("URI"))).getRequestURI(!1).getQueryData(),{refresh:!0})})}));b("tidyEvent")(b("Arbiter").subscribe("PagesManagerLayout/updateCount",function(b,c){a.$7(c.count,c.section,c.subsection)}));b("PagesNotificationsStore").addListener(b("PagesNotificationsConstants").Events.UPDATE_UNREAD_COUNT,function(){b("PagesNotificationsStore").getAll(function(b){var c={};b.forEach(function(a){var b=a.getFilter();c[b]=c[b]||0;a.isUnread()&&c[b]++});Object.keys(c).forEach(function(b){a.$7(c[b],"notifications",b)})})});b("PagesMessengerDispatcher").handleUpdateFromViewAction({actionType:b("PagesMessengerActions").ONVISIBLE_INIT,visible:this.state.section===b("PagesManagerActivitySection").MESSAGES});b("PageTransitions").registerHandler(this.$8)};d.componentDidUpdate=function(a,c){l[this.state.section]=this.state.subsection,(c.section!==this.state.section||c.subsection!==this.state.subsection)&&(this.$3(),this.state.section===b("PagesManagerActivitySection").MESSAGES&&b("PagesMessengerDispatcher").handleUpdateFromViewAction({actionType:b("PagesMessengerActions").ONVISIBLE_RESET}))};d.componentWillUnmount=function(){b("PageTransitions").removeHandler(this.$8)};d.UNSAFE_componentWillMount=function(){if(this.state.section===b("PagesManagerActivitySection").MESSAGES){var a=this.props.refData;a.flowID=this.props.flowID;a.loading_event_time=Date.now();a.subsection=this.state.subsection||this.$1(this.state.section);b("PagesEventObserver").notify("messages_pages_manager_layout_component_will_mount",this.props.pageID,a)}};d.$2=function(a){if(a!==this.state.section)return null;a=this.state.config.sections[a].content;return!a?null:k.createElement(a.module,babelHelpers["extends"]({},a.props,{section:this.state.section,subsection:this.state.subsection}))};d.$1=function(a){return Object.keys(this.props.config.sections[a].subsections)[0]};d.$6=function(a){return l[a]?l[a]:this.$1(a)};d.$4=function(a){var c=a.section,d=a.subsection,e=a.data;a=a.finallyCallback;var f=this.state.config.sections[c];if(!f.controller){a=a||b("emptyFunction");return a()}var g=this.props.perfParams;g&&(g=JSON.stringify(g));b("UIPagelet").loadFromEndpoint(f.controller.name,b("ReactDOM").findDOMNode(this.refs[c]),babelHelpers["extends"]({},e,{page_id:this.props.pageID,flowID:this.props.flowID,perfParams:g,subsection:d||this.$1(c)}),babelHelpers["extends"]({},f.controller.options,{crossPage:!0,finallyHandler:a}))};d.$3=function(){var a=this;this.state.section===b("PagesManagerActivitySection").INFO_REQUESTS&&b("PagesInfoRequestsLogger").logTabView();var c=this.state.config.sections[this.state.section].loggingEvent;if(!c)return;var d=this.props.refData;d.section=this.state.section;d.subsection=this.state.subsection;b("PagesEventObserver").notify(c,this.props.pageID,d);c==="view_notifications_page"&&b("PagesPageNotificationMenuImpressionFalcoEvent").log(function(){return{event_location:"page__notification_tab",page_id:a.props.pageID,referrer:null,event_data:{}}})};d.$7=function(a,b,c){var d=this.state.config;b=d.sections[b];c=b.subsections[c];c?c.count=a:b.count=a;this.setState({config:d})};d.$5=function(a,c){a=this.state.config.sections[a];if(a.sideUnitController){var d;b("DOM").empty((d=b("ReactDOM")).findDOMNode(this.refs.sideUnit));d.render(k.jsx(b("XUICard.react"),{className:"_3-8x _2ph-",children:k.jsx("div",{className:"_5kcp",children:k.jsx(b("XUISpinner.react"),{size:"large"})})}),d.findDOMNode(this.refs.sideUnit));b("CSS").show(d.findDOMNode(this.refs.sideUnit));b("UIPagelet").loadFromEndpoint(a.sideUnitController.name,d.findDOMNode(this.refs.sideUnit),babelHelpers["extends"]({},c,{page_id:this.props.pageID}),a.sideUnitController.options)}else b("CSS").hide(b("ReactDOM").findDOMNode(this.refs.sideUnit))};return c}(k.Component);a.propTypes={config:(c=b("prop-types")).object.isRequired,pageID:c.string.isRequired,section:c.string.isRequired,subsection:c.string,shouldRotateUpsell:c.bool,flowID:c.string,perfParams:c.object,refData:c.object.isRequired};e.exports=a}),null);
__d("XPagesNotificationsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/notifications/",{cursor:{type:"String"},filter:{type:"Enum",enumType:1}})}),null);
__d("XPagesNotificationsStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/notifications/state/",{alert_ids:{type:"StringVector",required:!0},mark_read:{type:"Bool",defaultValue:!1},mark_seen:{type:"Bool",defaultValue:!1},log_click:{type:"Exists",defaultValue:!1}})}),null);
__d("PagesNotificationsActions",["invariant","ActorURI","AsyncRequest","CurrentPage","PagesNotificationsConstants","PagesNotificationsDispatcher","PagesNotificationsStore","XPagesNotificationsAsyncController","XPagesNotificationsStateController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var c=a.prototype;c.selectNotifications=function(a){b("PagesNotificationsDispatcher").handleViewAction({type:b("PagesNotificationsConstants").Actions.NOTIFICATIONS_SELECTED,ids:a})};c.deselectNotifications=function(a){b("PagesNotificationsDispatcher").handleViewAction({type:b("PagesNotificationsConstants").Actions.NOTIFICATIONS_DESELECTED,ids:a})};c.markSeen=function(a,c){b("PagesNotificationsDispatcher").handleViewAction({type:b("PagesNotificationsConstants").Actions.MARK_SEEN,ids:a,pageID:c}),this.$1(a,!0,null,c,function(a){a=a.getPayload();if(a.is_invisible_employee_admin)return;b("PagesNotificationsDispatcher").handleServerAction({type:b("PagesNotificationsConstants").Actions.MARK_SEEN,notifications:a.notifications})})};c.markAllAsSeen=function(a){this.$2(!0,null,a)};c.markRead=function(a,c,d){c===void 0&&(c=null),d===void 0&&(d=null),b("PagesNotificationsDispatcher").handleViewAction({type:b("PagesNotificationsConstants").Actions.MARK_READ,ids:a,pageID:c}),this.$1(a,null,!0,c,function(a){a=a.getPayload();b("PagesNotificationsDispatcher").handleServerAction({type:b("PagesNotificationsConstants").Actions.MARK_READ,notifications:a.notifications})},d)};c.logClickAndMarkRead=function(a,b){this.markRead([a.getID()],b,!0)};c.markAllAsRead=function(a){this.$2(null,!0,a)};c.markUnread=function(a){b("PagesNotificationsDispatcher").handleViewAction({type:b("PagesNotificationsConstants").Actions.MARK_UNREAD,ids:a}),this.$1(a,null,!1,null,function(a){a=a.getPayload();b("PagesNotificationsDispatcher").handleServerAction({type:b("PagesNotificationsConstants").Actions.MARK_UNREAD,notifications:a.notifications})})};c.loadMore=function(a,c,d){c=b("XPagesNotificationsAsyncController").getURIBuilder().setString("cursor",c).setEnum("filter",a).getURI();this.$3(c,null,function(a){a=a.getPayload();b("PagesNotificationsDispatcher").handleServerAction({type:b("PagesNotificationsConstants").Actions.LOAD_MORE,notifications:a.notifications})},d)};c.$4=function(a){return a.map(function(a){a=b("PagesNotificationsStore").getByIDNow(a);return a.getAlertID()})};c.$3=function(a,c,d,e){e=e||b("emptyFunction"),new(b("AsyncRequest"))().setURI(b("ActorURI").create(a,c||b("CurrentPage").getID())).setHandler(d).setFinallyHandler(e).send()};c.$1=function(a,c,d,e,f,h){f===void 0&&(f=b("emptyFunction"));h===void 0&&(h=!1);c!==null||d!==null||g(0,4704);if(a.length===0)return;a=this.$4(a);a=b("XPagesNotificationsStateController").getURIBuilder().setStringVector("alert_ids",a).setBool("mark_read",d).setBool("mark_seen",c).setExists("log_click",h).getURI();this.$3(a,e,f)};c.$2=function(a,c,d,e){e===void 0&&(e=b("emptyFunction"));a!==null||c!==null||g(0,4704);var f=null;a&&(f=b("PagesNotificationsConstants").Actions.MARK_SEEN);c&&(f=b("PagesNotificationsConstants").Actions.MARK_READ);!a&&!c&&(f=b("PagesNotificationsConstants").Actions.MARK_UNREAD);b("PagesNotificationsStore").getAll(function(a){b("PagesNotificationsDispatcher").handleViewAction({type:f,ids:a.map(function(a){return a.getID()}),pageID:d})});c=b("XPagesNotificationsStateController").getURIBuilder().setStringVector("alert_ids",[b("PagesNotificationsConstants").SELECT_ALL_KEY]).setBool("mark_read",c).setBool("mark_seen",a).getURI();this.$3(c,d,function(a){var c=a.getPayload();b("PagesNotificationsDispatcher").handleServerAction({type:f,notifications:c.notifications});e(a)})};return a}();e.exports=new a()}),null);
__d("PagesNotificationsListRow.react",["ix","cx","fbt","xuiglyph","BusinessURI.brands","Image.react","ImageBlock.react","Layout.react","Link.react","PagesNotification","PagesSelectableListRow.react","React","prop-types","Tooltip.react","URI","XUIText.react","cxMargin","joinClasses","isFacebookURI"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=b("React"),o=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return n.jsx(b("Tooltip.react"),{className:"_3-99",tooltip:i._("Clicking this notification will open the content in a new tab."),children:n.jsx(b("Image.react"),{className:"_1swu",src:g("89402")})})};return a}(n.Component);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onNotificationClick&&c.props.onNotificationClick(c.props.notification,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.notification,c=b("joinClasses")(this.props.className,"_2v5c"+(a.hasPreviewData()?"":" _1d2k")),d=a.hasPreviewData()?null:n.jsx(o,{}),e=a.getProfileImage(),f=b("isFacebookURI")(new(k||(k=b("URI")))(a.getURL()))?b("BusinessURI.brands")(new(k||(k=b("URI")))(a.getURL())):new(k||(k=b("URI")))(a.getURL());return n.jsx(b("PagesSelectableListRow.react"),babelHelpers["extends"]({},this.props,{className:c,notification:null,selected:a.isSelected(),unread:a.isUnread(),children:n.jsx(b("Link.react"),{href:f,onClick:this.$1,target:a.hasPreviewData()?"_self":"_blank",children:n.jsxs(b("Layout.react"),{children:[n.jsx(l,{className:"_2yw8",children:e}),n.jsxs(m,{className:"_jqt",children:[n.jsxs("div",{className:"_jqu _xh9",children:[n.jsx(b("XUIText.react"),{className:"_1sww",children:a.getTitle()}),d]}),n.jsx("div",{className:"_jqs",children:a.getDescription()}),n.jsxs(b("ImageBlock.react"),{className:"_jqv",spacing:"small",children:[n.jsx(b("Image.react"),{className:"_jqw",src:a.getIconURI()}),n.jsx("div",{children:a.getHumanReadableTimestamp("relative")})]})]}),n.jsx(l,{className:"_jr0",children:a.getFeaturedContent()})]})})}))};return c}(n.Component);a.propTypes={notification:b("prop-types").instanceOf(b("PagesNotification")).isRequired,onNotificationClick:b("prop-types").func};e.exports=a}),null);
__d("PagesNotificationsPreviewDialog.react",["cx","LayerFadeOnHide","LayerHideOnEscape","PageLikesBrowser.react","PagesNotification","React","ReactDOM","UIPagelet","XUIDialog.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.props.notification.getPreviewData();if(a!==null){var c=a.actor_id,e=a.default_option,f=a.is_react,g=a.limit,i=a.list_shadow,j=a.page_id,k=a.pagelet;a=a.story_id;if(f)if(k==="PageLikesBrowser")return h.createElement(b("PageLikesBrowser.react"),{defaultOption:e,limit:g,listShadow:i,pageID:j});else return h.createElement(k,{actor_id:c,defaultOption:e,isReact:f,limit:g,listShadow:i,page:j,pageID:j,pagelet:k,story_id:a})}return h.jsx("div",{className:"_2tt8","data-testid":void 0,children:h.jsx(b("XUISpinner.react"),{size:"large"})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.shouldComponentUpdate=function(a){return this.props.notification.getID()!==a.notification.getID()};d.componentDidUpdate=function(){this.$1()};d.render=function(){return h.jsxs(b("XUIDialog.react"),babelHelpers["extends"]({},this.props,{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},notification:null,width:512,children:[h.jsx(b("XUIDialogTitle.react"),{children:this.props.notification.getTitle()}),h.jsx("div",{className:"_2tt7","data-testid":void 0,ref:"previewContent",children:this.$2()}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogCloseButton.react"),{})})]}))};d.$1=function(){var a=this.props.notification.getPreviewData();if(a===null)return;var c=a.actor_id,d=a.default_option,e=a.is_react,f=a.limit,g=a.list_shadow,h=a.page_id,i=a.pagelet;a=a.story_id;if(e||i==="PageLikesBrowser")return;b("UIPagelet").loadFromEndpoint(i,b("ReactDOM").findDOMNode(this.refs.previewContent),{actor_id:c,defaultOption:d,is_notification_preview:!0,isReact:e,limit:f,listShadow:g,page:h,pageID:h,story_id:a},{crossPage:!1})};return c}(h.Component);a.propTypes={notification:b("prop-types").instanceOf(b("PagesNotification")).isRequired};e.exports=a}),null);
__d("PagesNotificationsListArea.react",["csx","cx","fbt","ix","BoostedComponentDialogWidget.react","BoostedComponentErrorBoundaryContainer.react","BoostedComponentStrings","CSS","DOM","Image.react","MercuryTimestamp","PagesNotificationsActions","PagesNotificationsConstants","PagesNotificationsDispatcher","PagesNotificationsListRow.react","PagesNotificationsPreviewDialog.react","PagesNotificationsStore","PagesSelectableList.react","React","ReactDOM","SubscriptionsHandler","XUIButton.react","XUICard.react","XUICardSection.react","XUIText.react","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("PagesNotificationsConstants").Filters.ALL;function m(a){return{cursor:a.end_cursor||null,hasMoreNotifications:a.has_next_page!==!1}}function n(a){return a===null||a===l?i._("All Notifications"):b("PagesNotificationsConstants").FilterLabels[a]}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.renderLayers=function(){return!d.state.dialogShown||!d.state.dialogNotification.hasPreviewData()?null:k.jsx(b("PagesNotificationsPreviewDialog.react"),{notification:d.state.dialogNotification,onToggle:function(a){return d.setState({dialogShown:a})},shown:!0},"previewDialog")};d.$6=function(){b("PagesNotificationsActions").markRead(d.$5().map(function(a){return a.getID()})),b("PagesNotificationsActions").deselectNotifications(d.$5().map(function(a){return a.getID()})),d.notificationsList.bulkSelect(!1)};d.$7=function(){b("PagesNotificationsActions").markUnread(d.$5().map(function(a){return a.getID()})),b("PagesNotificationsActions").deselectNotifications(d.$5().map(function(a){return a.getID()})),d.notificationsList.bulkSelect(!1)};d.$2=function(a){d.setState({notifications:a})};d.$5=function(){return d.$4().filter(function(a){return a.isSelected()})};d.$4=function(){return d.state.filter===null||d.state.filter===l?d.state.notifications:d.state.notifications.filter(function(a){return a.getFilter()===d.state.filter})};d.$12=function(){var a={};d.$4().forEach(function(c){var d=b("MercuryTimestamp").getFormatedTimestamp(c.getCreatedDate().getTime()).absolute;a[d]||(a[d]=[]);a[d].push(c)});return a};d.$9=function(){var a=d.$12(),c=[];Object.keys(a).forEach(function(e){c.push(k.jsx("li",{className:"_4dyr",children:e},e));e=a[e].map(function(a){return k.jsx(b("PagesNotificationsListRow.react"),{notification:a,onNotificationClick:d.$13},a.getID())});c.push.apply(c,e)});return c};d.$8=function(){return k.jsxs("li",{className:"_5swj _2pi1",children:[k.jsx("div",{children:k.jsx(b("Image.react"),{className:"_5we2",src:j("95007")})}),k.jsx("div",{children:k.jsx(b("XUIText.react"),{weight:"bold",children:i._("No notifications to review.")})}),d.$14()]},"nullstate")};d.$14=function(){if(!d.props.promotePageUpsell.enabled)return null;var a=d.props.promotePageUpsell;return k.jsx("div",{children:k.jsx(b("XUIText.react"),{className:"_3-8x",display:"block",children:i._("{link to display the Promote Your Page dialog} to reach more people.",[i._param("link to display the Promote Your Page dialog",k.jsx(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedComponentDialogWidget",children:k.jsx(b("BoostedComponentDialogWidget.react"),{buttonLabel:b("BoostedComponentStrings").PROMOTE_PAGE_LINK_LABEL,configData:a.config,instanceData:a.instanceData,instanceID:a.instanceID,placement:"www_pages_notification_tab"})}))])})})};d.$11=function(a){var c=a.rowsAdded;a=a.rowsRemoved;c.length>0&&b("PagesNotificationsActions").selectNotifications(c);a.length>0&&b("PagesNotificationsActions").deselectNotifications(a)};d.$13=function(a,c){b("PagesNotificationsActions").logClickAndMarkRead(a),a.hasPreviewData()&&(c.preventDefault(),d.setState({dialogShown:!0,dialogNotification:a}))};d.$10=function(a){b("PagesNotificationsActions").loadMore(d.state.filter,d.state.cursor,function(c){if(c.getError()){a(!1);return d.setState({forceLoadMore:!1,hasMoreNotifications:!1})}c=c.getPayload();if(c&&c.page_info){c=m(c.page_info);c.forceLoadMore=!1;a(c.hasMoreNotifications);c.hasMoreNotifications||b("PagesNotificationsActions").markAllAsSeen();return d.setState(c)}a(!1)})};var e=m(c.page_info);d.state=Object.assign({dialogShown:!1,dialogNotification:null,filter:c.subsection||l,forceLoadMore:!1,notifications:[]},e);return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("PagesNotificationsStore").addListener(b("PagesNotificationsConstants").Events.CHANGE,function(){return b("PagesNotificationsStore").getAll(a.$2)}))};d.componentDidMount=function(){b("PagesNotificationsDispatcher").handleServerAction({type:b("PagesNotificationsConstants").Actions.INITIAL_LOAD,notifications:this.props.notifications,pageID:this.props.page_id})};d.componentDidUpdate=function(a){var c=this.state.notifications.filter(function(a){return a.isUnseen()});if(c.length){c=c.map(function(a){return a.getID()});b("PagesNotificationsActions").markSeen(c)}a.subsection!==this.props.subsection&&this.$3(this.props.subsection);b("DOM").scry(b("ReactDOM").findDOMNode(this.notificationsList),"._1d2k").forEach(function(a){var c="_1d2j";if(b("CSS").hasClass(a,c))return;var d=b("DOM").find(a,"._jqu"),e=d.getBoundingClientRect().width;d=d.firstChild.getBoundingClientRect().width;b("CSS").conditionClass(a,c,d>e)})};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){var a=this,c=null,d=null,e=this.$4(),f=this.$5().length;f>0?(c=k.jsxs("div",{children:[k.jsx(b("XUIButton.react"),{label:i._("Mark as Read"),onClick:this.$6}),k.jsx(b("XUIButton.react"),{label:i._("Mark as Unread"),onClick:this.$7})]}),d=k.jsx("span",{className:"_4dyq",children:i._({"*":"{number of selected notifications} Selected"},[i._param("number of selected notifications",f,[0,f])])})):e.length>0&&(c=k.jsx(b("XUIButton.react"),{label:i._("Mark All as Read"),onClick:function(){return b("PagesNotificationsActions").markAllAsRead()}}));f=e.length===0?this.$8():this.$9();return k.jsxs("div",{children:[k.jsxs(b("XUICard.react"),{className:"_1z3_",children:[k.jsxs(b("XUICardSection.react"),{className:"_1giw",children:[n(this.state.filter),d]}),k.jsx(b("XUICardSection.react"),{children:k.jsx(b("PagesSelectableList.react"),{actionBarRightComponent:c,className:"_1t7p","data-testid":void 0,forceRequestMoreRows:this.state.forceLoadMore,onRequestMoreRows:this.$10,onSelectionChange:this.$11,ref:function(b){a.notificationsList=b},children:f})})]}),this.renderLayers()]})};d.$3=function(a){this.setState({cursor:"",filter:a,forceLoadMore:!0,hasMoreNotifications:!0})};return c}(k.Component);a.propTypes={page_info:b("prop-types").object,subsection:b("prop-types").string};a.defaultProps={page_info:{end_cursor:"",has_next_page:!0},renderImage:!1};e.exports=a}),null);